<!DOCTYPE html>
<html>
  
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: "Lato", sans-serif;
}

.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

#main {
  transition: margin-left .5s;
  padding: 16px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
</style>
</head>
<body>

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#"><img src="https://i.ibb.co/74gbLHY/NXB-IPTV-12-9-2024-1.gif" width="200" height="16  </a>
  <a href="#">
        
   </a>
  <a href="https://anym3u8player.com/tv/p.php?url=https%3A%2F%2Fbit.ly%2Fnxbgma">Not 24/7<img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/c0/GMA_Network_Logo_Vector.svg/1024px-GMA_Network_Logo_Vector.svg.png?20241211035920" width="100" height="4"  </a>
 </a>
  <a href="https://anym3u8player.com/tv/p.php?url=https%3A%2F%2Fbit.ly%2Fnxbkapamilya">Not 24/7<img src="https://upload.wikimedia.org/wikipedia/en/f/f2/Kapamilya_Channel_Logo_2020.svg" width="150" height="4"  </a> </a>
</div>

<div id="main">
  
  <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;ðŸ“š MENU</span>
</div>

<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
  document.getElementById("main").style.marginLeft= "0";
}
</script>
   
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NERO TV</title>

    <!-- External Scripts -->
    <script async src="f0a6f.txt" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com/"></script>
    <script src="jwpsrv.js"></script>
    <script src="jwplayer.js"></script>
    <script src="channels.js"></script>
    <script src="remote-control.js"></script>
    <script src="search.js"></script>

    <!-- External Stylesheets -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="aucss">
    <link rel="stylesheet" href="donation.css"> <!-- Donation CSS -->

    <!-- Security Scripts -->
    <script>
        // Disable right-click
        document.addEventListener("contextmenu", function(e) {
            e.preventDefault();
        });

        // Disable common developer tool shortcuts
        document.addEventListener("keydown", function(e) {
            // F12 or Ctrl+Shift+I
            if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && e.keyCode === 73)) {
                e.preventDefault();
            }
            // Ctrl+U
            if (e.ctrlKey && e.keyCode === 85) {
                e.preventDefault();
            }
        });

        // Detect Developer Tools
        (function() {
            const devtoolsDetector = document.createElement('div');
            devtoolsDetector.__proto__ = null;
            Object.defineProperty(devtoolsDetector, 'id', {
                get: function() {
                    alert('Developer tools are open!');
                    throw new Error('DevTools detected');
                }
            });

            setInterval(function() {
                console.log(devtoolsDetector);
            }, 1000);
        })();
    </script>
</head>
<body class="bg-black text-white min-h-screen flex items-center justify-center p-5">

    <!-- Chat Support -->
    <div class="chat-support">
        <!-- Floating Chat Button -->
        <a href="https://m.me/102903048546561" target="_blank" class="chat-button">
            <span>ðŸ’¬</span>
        </a>
    </div>

    <!-- Donation Support -->
    <div class="donation-support">
        <!-- Floating Donation Button -->
        <div id="donationButton" class="donation-button">
            <span>ðŸ’³</span>
        </div>
        <!-- QR Code Modal -->
        <div id="donationModal" class="hidden donation-modal">
            <div class="modal-content">
                <img src="https://i.ibb.co/ngQyVtz/Photoroom-20250125-110919.png" alt="Donate via QR Code" class="qr-code">
                <button id="closeModal" class="close-button">âœ–</button>
            </div>
        </div>
    </div>

    <!-- Main Layout Container -->
    <div class="flex flex-col md:flex-row w-full max-w-7xl gap-6">
        <!-- Channel List (Left Side) -->
        <div class="scrollable-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 bg-gray-900 p-4 rounded-lg w-full md:w-1/3">
            <!-- Channel items will be populated dynamically -->
        </div>

        <!-- Video Player and Search Bar (Right Side) -->
        <div class="w-full md:w-2/3">
            <div id="loadingIndicator" class="hidden text-center py-5 text-lg font-semibold text-cyan-400">
                <p> ðŸ“º SELECT CHANNELS</p>
            </div>
            <div id="player" 
                 class="w-full aspect-video bg-gray-800 rounded-lg"
                 style="background-image: url('https://media1.giphy.com/media/U3qYN8S0j3bpK/giphy.gif?cid=6c09b952inf9tvtvft9lu5mize70evm7opwtqnei94rimsbl&ep=v1_internal_gif_by_id&rid=giphy.gif&ct=g');">
            </div>

            <!-- Search Bar -->
            <div class="w-small mt-4">
                <input 
                    id="searchBar" 
                    type="text" 
                    placeholder="Search channels..." 
                    class="w-small p-3 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                />
            </div>
        </div>
    </div>

    <!-- Error Message -->
    <div id="errorMessage" class="hidden text-center text-red-500 mt-4 text-lg font-semibold"></div>

    <!-- External Scripts -->
    <script src="auth.js"></script>
    <script src="off-canvas-menu.js"></script>
    <script src="donation.js"></script> <!-- Donation JS -->

    <!-- JWPlayer Configuration -->
    <script>
    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';

    function loadStream(channelKey) {
        const channel = channels[channelKey];
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorMessage = document.getElementById('errorMessage');
        const playerElement = document.getElementById('player');

        if (!channel) {
            errorMessage.textContent = 'Error: Channel not found!';
            errorMessage.classList.remove('hidden');
            return;
        }

        loadingIndicator.classList.remove('hidden');
        errorMessage.classList.add('hidden');

        jwplayer("player").setup({
            file: channel.url,
            type: channel.type,
            drm: channel.type === 'mpd' ? {
                clearkey: {
                    keyId: channel.keyId,
                    key: channel.key
                }
            } : undefined,
            width: "100%",
            aspectratio: "21:9", // Set to 21:9 aspect ratio
            autostart: true
        });

        // Enter fullscreen immediately when playback starts
        jwplayer("player").on('play', () => {
            if (playerElement.requestFullscreen) {
                playerElement.requestFullscreen().catch((err) => {
                    console.warn('Fullscreen request failed:', err);
                });
            } else if (playerElement.webkitRequestFullscreen) { // Safari support
                playerElement.webkitRequestFullscreen();
            } else if (playerElement.msRequestFullscreen) { // IE/Edge support
                playerElement.msRequestFullscreen();
            }
        });

        jwplayer("player").on('ready', () => {
            loadingIndicator.classList.add('hidden');
        });

        jwplayer("player").on('error', () => {
            loadingIndicator.classList.add('hidden');
            errorMessage.textContent = 'Error: Unable to load the stream.';
            errorMessage.classList.remove('hidden');
        });
    }

    function populateChannels() {
        const channelList = document.querySelector('.scrollable-grid');
        channelList.innerHTML = '';  

        Object.keys(channels).forEach(key => {
            const channel = channels[key];

            const listItem = document.createElement('div');
            listItem.className = 'channel-item text-white rounded-lg p-3 text-center cursor-pointer font-medium';
            listItem.tabIndex = 0;
            listItem.textContent = channel.name;
            listItem.onclick = () => loadStream(key);

            channelList.appendChild(listItem);
        });
    }

    window.addEventListener('DOMContentLoaded', () => {
        populateChannels(); 
        const defaultChannelKey = Object.keys(channels)[0];
        if (defaultChannelKey) {
            loadStream(defaultChannelKey);
        }
    });
    </script>
</body>
</html>
