<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Channel List</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #121212;
    color: white;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    transition: background-color 0.3s ease; /* Smooth background transition */
  }

  /* Page fade-in effect */
  .fade-in {
    opacity: 0;
    animation: fadeIn 1s forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 10px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    opacity: 0;
    animation: fadeIn 1s forwards 0.5s; /* Delay animation for smooth entrance */
  }

  .card {
    background-color: #424242; /* Material Gray 700 */
    border-radius: 10px;
    overflow: hidden;
    text-align: center;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s;
  }

  .card:hover {
    transform: translateY(-10px); /* Lift the card on hover */
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* More prominent shadow */
  }

  .card:active {
    transform: translateY(2px); /* Simulate a click effect */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  }

  .card h3 {
    font-size: 1.2em;
    margin-bottom: 15px;
    transition: color 0.3s ease;
  }

  .card:hover h3 {
    color: #007BFF; /* Change heading color on card hover */
  }

  .card button {
    background-color: #007BFF;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.1s;
  }

  .card button:hover {
    background-color: #0056b3;
  }

  .card button:active {
    transform: scale(0.95); /* Button click effect */
  }

  .card button:focus {
    outline: 2px solid #007BFF; /* Add focus effect */
  }
</style>
<script src="channels.js"></script>
</head>
<body class="fade-in">

<div class="container" id="channelContainer">
  <!-- Channel cards will be dynamically added here -->
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const channelContainer = document.getElementById("channelContainer");

    // Dynamically create cards from the channels object
    Object.keys(channels).forEach((key) => {
      const channel = channels[key];
      const card = document.createElement("div");
      card.classList.add("card");

      card.innerHTML = `
        <h3>${channel.name}</h3>
        <button onclick="loadChannel('${key}')">Watch Now</button>
      `;

      channelContainer.appendChild(card);
    });
  });

  function loadChannel(channelKey) {
    const channel = channels[channelKey];
    if (!channel) return;

    const player = document.createElement("div");
    player.id = "player";
    document.body.innerHTML = ""; // Clear the body
    document.body.appendChild(player);

    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
    jwplayer("player").setup({
      file: channel.url,
      type: channel.type,
      drm: channel.type === 'mpd' ? {
        clearkey: {
          keyId: channel.keyId,
          key: channel.key
        }
      } : undefined,
      width: "100%",
      aspectratio: "16:9",
      autostart: true
    });
  }
</script>

</body>
</html>
